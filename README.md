# Apel_GC

## File formats

Information related to one and the same chorale is represented in multiple variants and formats.
Each comes with its own advantages and disadvantages and users should make informed choices.
Filenames function as IDs in this context in the sense that files representing (information from)
the same chorale share the same filename prefix.

### Authoritative file format: MSCX

At the moment, only one file format in this dataset can be trusted to contain the full amount of 
information to the highest degree of accuracy: the uncompressed MuseScore files ending on 
`.mscx` which can be opened with MuseScore 3 or 4.
To date, we allow modification of these files using 
[MuseScore version 3.6.2](https://github.com/musescore/MuseScore/releases/tag/v3.6.2) exclusively.
However, we use the latest version of MuseScore 4 
(v4.4.4 at the time of writing this in February 2025) to convert these files to MEI and musicXML.
Apart from these format, the information from the MuseScore files is accessible by means of 
tabular files in TSV format, 3 per chorale: `*.notes.tsv`, `*.measures.tsv`, and `*.chords.tsv`
(although the naming of the last is misleading as it contains mainly markup, lyrics, bass figures, etc.).

The latest version of the Python library `ms3` is used to batch convert the MuseScore files
to other formats (`ms3 convert`) and to extract score information to TSV files (`ms3 extract`).

### MEI

To date, MuseScore 4 is able to convert files to MEI Basic 5.0 format. Take these files with a 
grain of salt as we cannot guarantee congruence with the source files.
The quality of these files makes them unsuitable for music research but they may serve as a 
starting point for a well-curated scholarly edition.
In the long run, provided the maturing of the relevant tools, the MEI files should take on 
the role of being the authoritative format.
Until then, they should not be manually modified because they are to be re-generated by conversion
and overwritten once the authoritative MuseScore files are modified.

### musicXML

For convenience and in addition, we offer the chorales in musicXML format. However, experience
shows that musicXML files output by MuseScore come with a number of issues and conversion errors.
These files are unsuited for scholarly work but some users may still appreciate their availability.

### TSV files

Tab-separated files are a dialect of CSV files and can be used the exact same way.
The most convenient way of viewing them is through a spreadsheet program such as LibreOffice Calc
(Excel, Numbers, Sheets, etc.) or a text editor with TSV support/plugin.
Power users may want to load them in their favourite programming language or statistical software.

You can look up what any column means in the documentation of ms3: https://ms3.readthedocs.io/columns

The most important TSV file is called `metadata.tsv`. It contains one row per chorale,
and comes with a number of columns that describe the piece in numerous ways.
A synoptic overview of the most important columns can be found 
[here](https://dcmlab.github.io/mozart_piano_sonatas/#how-to-read-metadata-tsv).


## Overview
|        file_name        |measures|labels|
|-------------------------|-------:|-----:|
|A-MCAU_AP1832-001_SID026 |      22|     0|
|A-MCAU_AP1832-002a_SID042|      21|     0|
|A-MCAU_AP1832-003_SID001 |      17|     0|
|A-MCAU_AP1832-004_SID002 |      22|     0|
|A-MCAU_AP1832-005_SID090 |      17|     0|
|A-MCAU_AP1832-006_SID003 |      24|     0|
|A-MCAU_AP1832-007_SID039 |      17|     0|
|A-MCAU_AP1832-008_SID004 |      22|     0|
|A-MCAU_AP1832-009_SID005 |      28|     0|
|A-MCAU_AP1832-010_SID097 |      28|     0|
|A-MCAU_AP1832-017_SID086 |      23|     0|
|A-MCAU_AP1832-018_SID057 |      38|     0|
|A-MCAU_AP1832-019_SID083 |      21|     0|
|A-MCAU_AP1832-020_SID038 |      40|     0|
|A-MCAU_AP1832-021_SID006 |      23|     0|
|A-MCAU_AP1832-022_SID007 |      22|     0|
|A-MCAU_AP1832-023a_SID008|      24|     0|
|A-MCAU_AP1832-024_SID056 |      17|     0|
|A-MCAU_AP1832-027_SID009 |      19|     0|
|A-MCAU_AP1832-028_SID010 |      20|     0|
|A-MCAU_AP1832-029_SID012 |      31|     0|
|A-MCAU_AP1832-030a_SID014|      33|     0|
|A-MCAU_AP1832-031_SID066 |      28|     0|
|A-MCAU_AP1832-033_SID011 |      24|     0|
|A-MCAU_AP1832-034_SID033 |      20|     0|
|A-MCAU_AP1832-035_SID087 |      29|     0|
|A-MCAU_AP1832-040_SID016 |      19|     0|
|A-MCAU_AP1832-042_SID023 |      26|     0|
|A-MCAU_AP1832-043_SID062 |      17|     0|
|A-MCAU_AP1832-046b_SID017|      27|     0|
|A-MCAU_AP1832-047_SID018 |      26|     0|
|A-MCAU_AP1832-048_SID020 |      34|     0|
|A-MCAU_AP1832-050_SID015 |      29|     0|
|A-MCAU_AP1832-051_SID022 |      17|     0|
|A-MCAU_AP1832-054_SID027 |      22|     0|
|A-MCAU_AP1832-055_SID024 |      19|     0|
|A-MCAU_AP1832-057_SID028 |      31|     0|
|A-MCAU_AP1832-058_SID029 |      27|     0|
|A-MCAU_AP1832-062_SID030 |      19|     0|
|A-MCAU_AP1832-065_SID050 |      23|     0|
|A-MCAU_AP1832-067_SID031 |      32|     0|
|A-MCAU_AP1832-068a_SID032|      17|     0|
|A-MCAU_AP1832-069_SID040 |      19|     0|
|A-MCAU_AP1832-074_SID085 |      22|     0|
|A-MCAU_AP1832-075_SID034 |     231|     0|
|A-MCAU_AP1832-077_SID088 |      19|     0|
|A-MCAU_AP1832-078_SID036 |      17|     0|
|A-MCAU_AP1832-079a_SID035|      17|     0|
|A-MCAU_AP1832-080a_SID037|      22|     0|
|A-MCAU_AP1832-083_SID013 |      15|     0|
|A-MCAU_AP1832-086_SID096 |      40|     0|
|A-MCAU_AP1832-087_SID046 |      25|     0|
|A-MCAU_AP1832-088_SID041 |      35|     0|
|A-MCAU_AP1832-089_SID021 |      27|     0|
|A-MCAU_AP1832-091_SID043 |      24|     0|
|A-MCAU_AP1832-092a_SID095|      25|     0|
|A-MCAU_AP1832-093_SID044 |      20|     0|
|A-MCAU_AP1832-095a_SID089|      17|     0|
|A-MCAU_AP1832-096_SID058 |      24|     0|
|A-MCAU_AP1832-097_SID045 |      43|     0|
|A-MCAU_AP1832-100_SID064 |      40|     0|
|A-MCAU_AP1832-102_SID047 |      18|     0|
|A-MCAU_AP1832-105_SID025 |      22|     0|
|A-MCAU_AP1832-109_SID048 |      15|     0|
|A-MCAU_AP1832-110_SID076 |      13|     0|
|A-MCAU_AP1832-111_SID068 |      20|     0|
|A-MCAU_AP1832-112_SID093 |      18|     0|
|A-MCAU_AP1832-114_SID059 |      22|     0|
|A-MCAU_AP1832-115a_SID049|      37|     0|
|A-MCAU_AP1832-118_SID065 |      29|     0|
|A-MCAU_AP1832-121_SID052 |      26|     0|
|A-MCAU_AP1832-122_SID053 |      21|     0|
|A-MCAU_AP1832-123_SID092 |      17|     0|
|A-MCAU_AP1832-124a_SID060|      21|     0|
|A-MCAU_AP1832-128a_SID094|      17|     0|
|A-MCAU_AP1832-130_SID061 |      29|     0|
|A-MCAU_AP1832-133_SID063 |      21|     0|
|A-MCAU_AP1832-140a_SID067|      41|     0|
|A-MCAU_AP1832-145_SID069 |      25|     0|
|A-MCAU_AP1832-146_SID070 |      23|     0|
|A-MCAU_AP1832-147_SID071 |      17|     0|
|A-MCAU_AP1832-149_SID072 |      23|     0|
|A-MCAU_AP1832-151_SID073 |      32|     0|
|A-MCAU_AP1832-152_SID074 |      20|     0|
|A-MCAU_AP1832-154_SID075 |      22|     0|
|A-MCAU_AP1832-155_SID077 |      26|     0|
|A-MCAU_AP1832-157_SID055 |      16|     0|
|A-MCAU_AP1832-160_SID091 |      24|     0|
|A-MCAU_AP1832-161_SID078 |      29|     0|
|A-MCAU_AP1832-163_SID079 |      17|     0|
|A-MCAU_AP1832-167a_SID080|      19|     0|
|A-MCAU_AP1832-168_SID081 |      30|     0|
|A-MCAU_AP1832-169_SID019 |      34|     0|
|A-MCAU_AP1832-171a_SID082|      39|     0|
|A-MCAU_AP1832-172_SID051 |      56|     0|
|A-MCAU_AP1832-173_SID084 |      47|     0|


*Overview table automatically updated using [ms3](https://ms3.readthedocs.io/).*
